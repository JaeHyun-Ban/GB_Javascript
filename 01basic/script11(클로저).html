<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>

  <body>
    <script>
      //클로저는 var변수에 문제가 발생할 때 생긴다?
      // function func1() {
      //   var a = "함수 안에서 선언된 변수는 지역변수다";
      //   //지역변수를 밖에서 건드릴 수 없다
      // }
      // console.log(a);

      //접근 불가능한 var a변수를 밖에서도 사용할 수 있도록 한다
      function func1() {
        var a = "함수 안에서 선언된 지역변수";
        // var result = function () {
        //   return a;
        // }
        // return result;//함수 자체를 반환

        //리턴 시 함수 생성 + 리턴
        return function () {
          return a;
        }
      }

      console.log(func1());
      var b = func1();
      console.log(b);//함수 자체를 반환 받는다.
      console.log(b());//>함수 안에 있는 a의 자원이 해제되지 않았다.
      //함수 안에 getter setter을 만들어서 사용하는 것과 똑같은 형태이다.
      //클로저: func1안에 내부함수가 func1의 지역변수를 접근할 수 있는 키를 가지고 있다.
      //>클로저 상황: 내부 함수가 외부함수에 지역변수값을 바꾸는 상황

      //클로저 상황이 발생하는 것을 염두하고 코드를 짜도록 하자

      //클로저를 이용해서 function안에 getter, setter함수로 사용이 가능하다
      //setter의 형태
      function test1() {
        var a = "private변수";

        return function (name) {
          a = name;
          console.log("a값의 확인: " + a);

        }
      }
      var setter = test1();
      setter("안녕?");
      //자바스크립트에서는 접근 제어자가 존재하지 않기 때문에
      //>이런식으로 생성해서 사용한다


    </script>
  </body>

</html>